{"version":3,"sources":["webpack:///./node_modules/_vant@2.4.7@vant/es/icon/style/index.js","webpack:///./src/view/PointsList.vue?793e","webpack:///./src/view/PointsList.vue?b862","webpack:///./src/components/PointItem.vue?e5be","webpack:///src/components/PointItem.vue","webpack:///./src/components/PointItem.vue?a1b0","webpack:///./src/components/PointItem.vue","webpack:///src/view/PointsList.vue","webpack:///./src/view/PointsList.vue?8632","webpack:///./src/view/PointsList.vue","webpack:///./src/components/PointItem.vue?e8e4"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","onClick","model","value","callback","$$v","activeTab","expression","_l","os","index","key","status","title","pointItem","id","finished","loading","staticRenderFns","staticClass","_v","_s","item","createdAt","remark","class","pointsType","amount","name","components","props","type","default","computed","component","mixins","comData","data","orderStatus","list","created","onLoad","methods","pointsList","formatPoints","points"],"mappings":"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","file":"js/chunk-386b37ad.c3faacc9.js","sourcesContent":["import '../../style/base.css';\nimport '../../info/index.css';\nimport '../index.css';","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./PointsList.vue?vue&type=style&index=0&lang=less&scope=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./PointsList.vue?vue&type=style&index=0&lang=less&scope=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-tabs',{attrs:{\"sticky\":\"\"},on:{\"click\":_vm.onClick},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},_vm._l((_vm.orderStatus),function(os,index){return _c('van-tab',{key:index,attrs:{\"name\":os.status,\"title\":os.title}},_vm._l((_vm.list),function(pointItem){return _c('point-item',{key:pointItem.id,attrs:{\"item\":pointItem}})}),1)}),1),_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"point-item\"},[_c('div',{staticClass:\"point-item-header\"},[_c('div',[_vm._v(_vm._s(_vm.item.createdAt))])]),_c('div',{staticClass:\"point-item-record\"},[_c('div',{staticClass:\"point-item-title\"},[_vm._v(_vm._s(_vm.item.remark))]),_c('div',{class:_vm.pointsType},[_vm._v(_vm._s(_vm.item.amount))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"point-item\">\n    <div class=\"point-item-header\">\n      <div>{{item.createdAt}}</div>\n      <!--<div>查看详情<van-icon name=\"arrow\"></van-icon></div>-->\n    </div>\n    <div class=\"point-item-record\" >\n      <div class=\"point-item-title\">{{item.remark}}</div>\n      <!--<div class=\"point-item-num\">X{{item.num}}</div> -->\n      <div :class=\"pointsType\">{{item.amount}}</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Icon } from \"vant\";\nexport default {\n  name: \"PointsItem\",\n  components: {\n    [Icon.name]: Icon\n  },\n  props:{\n    item:{\n      type:Object,\n      default:function(){\n        return {}\n      }\n    }\n  },\n\n  computed: {\n    pointsType() {\n      if (this.type == \"2\") {\n        //消费\n        return \"point-item-points col-red\";\n      } else if (this.type == \"1\") {\n        //发放\n        return \"point-item-points col-blue\";\n      } else {\n        return \"point-item-points\";\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n.point-item {\n  margin-top: 10px;\n  padding: 10px 16px;\n  background-color: #fff;\n  &-record {\n    display: flex;\n    justify-content: space-between;\n    padding: 5px 0px;\n    font-size: 14px;\n    line-height: 24px;\n  }\n  &-title {\n    flex: 3;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n  &-num {\n    flex: 1;\n    padding-left: 10px;\n    letter-spacing: 10px;\n  }\n  &-points {\n    flex: 1;\n    text-align: right;\n  }\n  &-header {\n    display: flex;\n    justify-content: space-between;\n    font-size: 12px;\n    color: #969799;\n    padding: 5px 0px;\n    margin-bottom: 10px;\n    position: relative;\n  }\n  &-header::after {\n    position: absolute;\n    box-sizing: border-box;\n    content: \" \";\n    pointer-events: none;\n    right: 0;\n    bottom: 0;\n    left: 0px;\n    border-top: 1px solid #ebedf0;\n    transform: scaleY(0.7);\n  }\n}\n.col-red {\n  color: #ee0a24;\n}\n.col-blue {\n  color: blue;\n}\n</style> ","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./PointItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./PointItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PointItem.vue?vue&type=template&id=47914592&\"\nimport script from \"./PointItem.vue?vue&type=script&lang=js&\"\nexport * from \"./PointItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PointItem.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <van-tabs v-model=\"activeTab\" @click=\"onClick\" sticky>\n      <van-tab v-for=\"(os, index) in orderStatus\" :key=\"index\" :name=\"os.status\" :title=\"os.title\">\n        <point-item v-for=\"pointItem in list\" :item=\"pointItem\" :key=\"pointItem.id\"></point-item>\n      </van-tab>\n    </van-tabs>\n    <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\">\n    </van-list>\n  </div>\n</template>\n\n<script>\nimport { Tab, List, Tabs } from \"vant\";\nimport PointItem from \"../components/PointItem\";\nimport { comData } from \"@/mix/comData\";\n\nexport default {\n  name: \"PointsList\",\n\n  mixins: [comData],\n  \n  components: {\n    [Tab.name]: Tab,\n    [Tabs.name]: Tabs,\n    [List.name]: List,\n    PointItem\n  },\n\n  data() {\n    return {\n      activeTab: 0,\n      loading: false,\n      finished: false,\n      //积分来源类型\n      type:\"\",\n      orderStatus: [\n        {\n          status: \"\",\n          title: \"全部\"\n        },\n        {\n          status: \"2\",\n          title: \"消费记录\"\n        },\n        {\n          status: \"1\",\n          title: \"发放记录\"\n        }\n      ],\n      list: []\n    };\n  },\n\n  created(){\n    this.onLoad()\n  },\n\n  methods: {\n    onClick(name) {\n      this.type = name\n      this.list = []\n      this.onLoad()\n    },\n\n    \n    async pointsList(){\n      console.log(this.type)\n      this.prodId= this.$route.query.prodId\n      const query = this.$gql`\n        query pointsList($orgId: String!,$uid: String!,$skip: Int,$limit: Int,$type:String) {\n          points {\n            account(orgId:$orgId,uid:$uid){\n              trades(\n                type:$type\n                skip:$skip\n                limit:$limit\n              ) {\n                  amount\n                  type\n                  remark\n                  tradeId\n                  createdAt\n              }\n            }\n          }\n        }\n      `;\n      const result = await this.$apollo.query({\n        query: query,\n        variables: {\n          orgId: this.orgId,\n          uid:this.uid,\n          skip:this.skip,\n          limit:this.limit,\n          type:this.type\n        },\n        fetchPolicy: \"network-only\"\n      });\n      let {\n        data:{\n          points:{\n            account:{\n              trades\n            }\n          }\n        }\n      } = result\n        this.list = trades\n        this.loading = false;\n        if (trades.length < this.limit) {\n          this.finished = true;\n        }\n      console.log(trades)\n    },\n\n    onLoad() {\n      this.pointsList()\n      // setTimeout(() => {\n      //   this.list = this.list.concat(this.list);\n      //   this.loading = false;\n      //   if (this.list.length > 10) {\n      //     this.finished = true;\n      //   }\n      // }, 500);\n    },\n\n    formatPoints(points) {\n      return points + \"积分\";\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scope=\"true\">\n.point-content {\n  display: flex;\n  justify-content: space-between;\n  font-size: 12px;\n  color: #969799;\n  padding: 5px 16px;\n  margin-bottom: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./PointsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./PointsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PointsList.vue?vue&type=template&id=199e1f07&\"\nimport script from \"./PointsList.vue?vue&type=script&lang=js&\"\nexport * from \"./PointsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PointsList.vue?vue&type=style&index=0&lang=less&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./PointItem.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./PointItem.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}