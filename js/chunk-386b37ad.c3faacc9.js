(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-386b37ad"],{"0fbe":function(t,n,i){"use strict";i("196d"),i("c2e8"),i("bed5")},"2a1d":function(t,n,i){"use strict";var e=i("d419"),a=i.n(e);a.a},a6db:function(t,n,i){"use strict";i.r(n);var e,a=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("van-tabs",{attrs:{sticky:""},on:{click:t.onClick},model:{value:t.activeTab,callback:function(n){t.activeTab=n},expression:"activeTab"}},t._l(t.orderStatus,(function(n,e){return i("van-tab",{key:e,attrs:{name:n.status,title:n.title}},t._l(t.list,(function(t){return i("point-item",{key:t.id,attrs:{item:t}})})),1)})),1),i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},model:{value:t.loading,callback:function(n){t.loading=n},expression:"loading"}})],1)},s=[],o=i("46b4"),r=i.n(o),c=i("0d05"),u=i.n(c),d=i("34ef"),l=i.n(d),p=i("0a8a"),m=i.n(p),f=(i("6682"),i("ea21")),v=(i("f313"),i("43ab")),b=(i("96ab"),i("b649")),h=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"point-item"},[i("div",{staticClass:"point-item-header"},[i("div",[t._v(t._s(t.item.createdAt))])]),i("div",{staticClass:"point-item-record"},[i("div",{staticClass:"point-item-title"},[t._v(t._s(t.item.remark))]),i("div",{class:t.pointsType},[t._v(t._s(t.item.amount))])])])},y=[],k=(i("0fbe"),i("c795")),g={name:"PointsItem",components:m()({},k["a"].name,k["a"]),props:{item:{type:Object,default:function(){return{}}}},computed:{pointsType:function(){return"2"==this.type?"point-item-points col-red":"1"==this.type?"point-item-points col-blue":"point-item-points"}}},$=g,I=(i("c656"),i("5511")),_=Object(I["a"])($,h,y,!1,null,null,null),w=_.exports,x=i("4a3f");function L(){var t=u()(["\n        query pointsList($orgId: String!,$uid: String!,$skip: Int,$limit: Int,$type:String) {\n          points {\n            account(orgId:$orgId,uid:$uid){\n              trades(\n                type:$type\n                skip:$skip\n                limit:$limit\n              ) {\n                  amount\n                  type\n                  remark\n                  tradeId\n                  createdAt\n              }\n            }\n          }\n        }\n      "]);return L=function(){return t},t}var C={name:"PointsList",mixins:[x["a"]],components:(e={},m()(e,b["a"].name,b["a"]),m()(e,v["a"].name,v["a"]),m()(e,f["a"].name,f["a"]),m()(e,"PointItem",w),e),data:function(){return{activeTab:0,loading:!1,finished:!1,type:"",orderStatus:[{status:"",title:"全部"},{status:"2",title:"消费记录"},{status:"1",title:"发放记录"}],list:[]}},created:function(){this.onLoad()},methods:{onClick:function(t){this.type=t,this.list=[],this.onLoad()},pointsList:function(){var t=this;return l()(r.a.mark((function n(){var i,e,a;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.prodId=t.$route.query.prodId,i=t.$gql(L()),n.next=4,t.$apollo.query({query:i,variables:{orgId:t.orgId,uid:t.uid,skip:t.skip,limit:t.limit,type:t.type},fetchPolicy:"network-only"});case 4:e=n.sent,a=e.data.points.account.trades,t.list=a,t.loading=!1,a.length<t.limit&&(t.finished=!0);case 9:case"end":return n.stop()}}),n)})))()},onLoad:function(){this.pointsList()},formatPoints:function(t){return t+"积分"}}},T=C,q=(i("2a1d"),Object(I["a"])(T,a,s,!1,null,null,null));n["default"]=q.exports},c656:function(t,n,i){"use strict";var e=i("f5ad"),a=i.n(e);a.a},d419:function(t,n,i){},f5ad:function(t,n,i){}}]);
//# sourceMappingURL=chunk-386b37ad.c3faacc9.js.map