(function(e){function t(t){for(var r,a,c=t[0],i=t[1],s=t[2],f=0,l=[];f<c.length;f++)a=c[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&l.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);d&&d(t);while(l.length)l.shift()();return u.push.apply(u,s||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(u.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o={app:0},u=[];function c(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-0c3e06b8":"0ac9584b","chunk-0cf5fc40":"fe0d421d","chunk-166201d8":"0dac79ab","chunk-2d0a3958":"e7be6a14","chunk-57b0edac":"508643ca","chunk-70631f1e":"5d11fb44","chunk-94e49138":"ee3c0fed","chunk-a57c6ab4":"2263beb4","chunk-19be9d4e":"23871992","chunk-386b37ad":"c3faacc9","chunk-f2b38850":"cdcdbbb1"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-0c3e06b8":1,"chunk-0cf5fc40":1,"chunk-166201d8":1,"chunk-57b0edac":1,"chunk-70631f1e":1,"chunk-94e49138":1,"chunk-a57c6ab4":1,"chunk-19be9d4e":1,"chunk-386b37ad":1,"chunk-f2b38850":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-0c3e06b8":"1b7cc77b","chunk-0cf5fc40":"b5cfefc9","chunk-166201d8":"e9598858","chunk-2d0a3958":"31d6cfe0","chunk-57b0edac":"bbcb0c05","chunk-70631f1e":"f443f144","chunk-94e49138":"7668a800","chunk-a57c6ab4":"7fbf34bc","chunk-19be9d4e":"749fe8d5","chunk-386b37ad":"27b198e0","chunk-f2b38850":"9fd49720"}[e]+".css",o=i.p+r,u=document.getElementsByTagName("link"),c=0;c<u.length;c++){var s=u[c],f=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(f===r||f===o))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){s=l[c],f=s.getAttribute("data-href");if(f===r||f===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||o,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete a[e],d.parentNode.removeChild(d),n(u)},d.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var u=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=u);var s,f=document.createElement("script");f.charset="utf-8",f.timeout=120,i.nc&&f.setAttribute("nonce",i.nc),f.src=c(e);var l=new Error;s=function(t){f.onerror=f.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}o[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:f})}),12e4);f.onerror=f.onload=s,document.head.appendChild(f)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],f=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=f;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("6de1"),a=n.n(r);a.a},"0351":function(e,t,n){var r={"./Cart.vue":["12e2","chunk-166201d8"],"./Goods.vue":["ac50","chunk-f2b38850"],"./Index.vue":["999d","chunk-57b0edac"],"./Layout.vue":["7f63","chunk-94e49138"],"./Login.vue":["dd1d","chunk-70631f1e"],"./OrderDetail.vue":["0398","chunk-2d0a3958"],"./OrderList.vue":["5f48","chunk-a57c6ab4","chunk-19be9d4e"],"./PointsList.vue":["a6db","chunk-a57c6ab4","chunk-386b37ad"],"./Reset.vue":["0f73","chunk-0c3e06b8"],"./User.vue":["7aca","chunk-0cf5fc40"]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id="0351",e.exports=a},"4a3f":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("0a8a"),a=n.n(r),o=n("08c1");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i={computed:c({},Object(o["b"])(["orgId","mallId","templateId","cartKey","uid"])),data:function(){return{skip:0,limit:10}}}},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"SET_TOKEN",(function(){return O})),n.d(r,"SET_MALLID",(function(){return T})),n.d(r,"SET_UID",(function(){return I})),n.d(r,"SET_ORGID",(function(){return S})),n.d(r,"SET_TEMPLATEID",(function(){return w})),n.d(r,"SET_CARTKEY",(function(){return _})),n.d(r,"SET_USERINFO",(function(){return P})),n.d(r,"SET_THEMECOLOR",(function(){return L}));n("56cc");var a=n("3927"),o=(n("9f45"),n("0261")),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},c=[],i=n("46b4"),s=n.n(i),f=n("0d05"),l=n.n(f),d=n("34ef"),p=n.n(d),h=n("4a3f");function m(){var e=l()(["\n        query mall($mallId: String!) {\n          mall {\n            info(\n              mallId: $mallId\n            ) {\n                description\n                ico\n                logo\n                mallId\n                mallName\n                orgId\n                title\n            }\n          }\n        }\n      "]);return m=function(){return e},e}var b={name:"APP",mixins:[h["a"]],methods:{getPar:function(e){var t=this[e]||sessionStorage.getItem(e);return t&&(this.$store.commit("SET_"+e.toUpperCase(),t),sessionStorage.setItem(e,t)),t},mallInfo:function(){var e=this;return p()(s.a.mark((function t(){var n,r,a;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$gql(m()),t.next=3,e.$apollo.query({query:n,variables:{mallId:e.mallId}});case 3:r=t.sent,a=r.data.mall.info,e.$store.commit("SET_ORGID",a.orgId);case 6:case"end":return t.stop()}}),t)})))()}}},v=b,g=(n("034f"),n("5511")),k=Object(g["a"])(v,u,c,!1,null,null,null),y=k.exports,E=n("08c1"),x={userInfo:{},token:"",mallId:"",orgId:"",uid:"",cartKey:"cart",templateId:"1234567890",themeColor:"#2196f3"},O=function(e,t){var n=e.commit;return n("SET_TOKEN",t)},T=function(e,t){var n=e.commit;return n("SET_MALLID",t)},I=function(e,t){var n=e.commit;return n("SET_UID",t)},S=function(e,t){var n=e.commit;return n("SET_ORGID",t)},w=function(e,t){var n=e.commit;return n("SET_TEMPLATEID",t)},_=function(e,t){var n=e.commit;return n("SET_CARTKEY",t)},P=function(e,t){var n=e.commit;return n("SET_USERINFO",t)},L=function(e,t){var n=e.commit;return n("SET_THEMECOLOR",t)},j={SET_TOKEN:function(e,t){e.token=t},SET_USERINFO:function(e,t){e.userInfo=t},SET_UID:function(e,t){e.uid=t},SET_MALLID:function(e,t){e.mallId=t},SET_ORGID:function(e,t){e.orgId=t},SET_TEMPLATEID:function(e,t){e.templateId=t},SET_CARTKEY:function(e,t){e.cartKey=t},SET_THEMECOLOR:function(e,t){e.themeColor=t}};o["a"].use(E["a"]);var D=new E["a"].Store({state:x,actions:r,mutations:j}),C=n("9bfb"),A=function(e){return function(){return n("0351")("./"+e+".vue")}};o["a"].use(C["a"]);var M=[{path:"*",redirect:"/index"},{path:"/",redirect:"/index"},{path:"/login",component:A("Login"),meta:{title:"登录"}},{path:"/reset",component:A("Reset"),meta:{title:"找回密码"}},{path:"/",component:A("Layout"),children:[{path:"index",component:A("Index"),meta:{title:"商城首页"}},{path:"goods",component:A("Goods"),meta:{title:"商品详情"}},{path:"cart",component:A("Cart"),meta:{title:"购物车"}},{path:"orderDetail",component:A("OrderDetail"),meta:{title:"订单详情页"}},{path:"user",component:A("User"),meta:{title:"个人中心",authorization:!0}},{path:"orderList",component:A("OrderList"),meta:{title:"订单列表",authorization:!0}},{path:"pointsList",component:A("PointsList"),meta:{title:"积分列表",authorization:!0}}]}],R=new C["a"]({routes:M}),N=C["a"].prototype.push;C["a"].prototype.push=function(e){return N.call(this,e).catch((function(e){return e}))};var q=R,U=n("82ae"),$=n.n(U),K={post:function(e,t){return p()(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",$()({method:"POST",url:"/member/graphql",data:B(t),timeout:3e4,headers:{"Content-Type":"application/graphql"}}).then(F).then(z));case 1:case"end":return e.stop()}}),e)})))()}};function F(e){return G.apply(this,arguments)}function G(){return G=p()(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(200!==t.status&&304!==t.status){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",{data:{message:t.statusText,data:t.statusText}});case 3:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function z(e){return H.apply(this,arguments)}function H(){return H=p()(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.data.errno,e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function B(e){return e}var Y={priceAndPointsShow:function(e,t){return e=parseInt(e),t=parseInt(t),0==e&&0==t?"0.00元":0===parseInt(e)?t+"积分":0==parseInt(t)?"¥"+(e/100).toFixed(2)+"元":t+"积分+¥"+(e/100).toFixed(2)+"元"},guid:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}))}},J=n("87e7"),Q=n.n(J),V=n("929f"),W=n("96d9"),X=n("a588"),Z=n("b8d3"),ee=n("a663"),te=n("3093"),ne=n.n(te),re=n("16be"),ae=n.n(re);ae.a.polyfill(),o["a"].config.devtools=!0;var oe=Object(W["a"])({uri:"http://gsd.umq.cn/api/graphql",fetch:Q.a}),ue=new Z["a"]((function(e,t){return e.setContext({body:{requestId:"12345678"}}),t(e).map((function(e){if(e.errors){var t=e.errors[0].message;alert(t)}return e}))})),ce=ue.concat(oe),ie=new X["a"],se=new V["a"]({link:ce,cache:ie});o["a"].prototype.$http=K,o["a"].prototype.$util=Y,o["a"].prototype.$gql=ne.a,o["a"].use(a["a"]),o["a"].use(ee["a"]);var fe=new ee["a"]({defaultClient:se});new o["a"]({router:q,store:D,apolloProvider:fe,render:function(e){return e(y)}}).$mount("#app"),q.beforeEach((function(e,t,n){var r=D.state.token,a=e.meta.authorization;a&&(r?n():q.push({path:"/login",query:{mallId:D.state.mallId}})),n()}))},"6de1":function(e,t,n){}});
//# sourceMappingURL=app.780ffd25.js.map