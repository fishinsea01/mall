{"version":3,"sources":["webpack:///./node_modules/_vant@2.4.7@vant/es/mixins/bind-event.js","webpack:///./node_modules/_vant@2.4.7@vant/es/nav-bar/index.js","webpack:///./node_modules/_vant@2.4.7@vant/es/icon/style/index.js","webpack:///./src/view/Layout.vue?de46","webpack:///src/view/Layout.vue","webpack:///./src/view/Layout.vue?8844","webpack:///./src/view/Layout.vue","webpack:///./node_modules/_vant@2.4.7@vant/es/utils/dom/scroll.js","webpack:///./node_modules/_vant@2.4.7@vant/es/nav-bar/style/index.js","webpack:///./node_modules/_vant@2.4.7@vant/es/sticky/index.js","webpack:///./node_modules/_vant@2.4.7@vant/es/utils/dom/event.js"],"names":["BindEventMixin","handler","bind","this","binded","call","unbind","mounted","activated","deactivated","beforeDestroy","_createNamespace","createComponent","bem","NavBar","h","props","slots","ctx","_ref","LeftPart","left","leftArrow","leftText","RightPart","right","rightText","zIndex","fixed","border","listeners","title","String","Boolean","Number","type","default","render","_vm","_h","$createElement","_c","_self","attrs","showLeftArrow","on","onClickLeft","staticClass","slot","onClickCart","onClickUser","_e","staticRenderFns","name","data","mallId","components","watch","now","immediate","methods","$router","go","push","path","query","component","isWindow","val","window","overflowScrollReg","getScroller","el","root","node","tagName","nodeType","_window$getComputedSt","getComputedStyle","overflowY","test","_window$getComputedSt2","parentNode","htmlOverflowY","getScrollTop","scrollTop","pageYOffset","setScrollTop","value","scrollTo","scrollX","getRootScrollTop","document","documentElement","body","setRootScrollTop","getElementTop","getBoundingClientRect","top","getVisibleHeight","innerHeight","height","getVisibleTop","mixins","scroller","$el","onScroll","container","offsetTop","transform","computed","style","_this","offsetHeight","topToPageTop","emitScrollEvent","$emit","isFixed","bottomToPageTop","distanceToBottom","arguments","supportsPassive","opts","Object","defineProperty","get","addEventListener","e","target","event","passive","capture","off","removeEventListener","stopPropagation","preventDefault","isStopPropagation","cancelable"],"mappings":"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","file":"js/chunk-94e49138.ee3c0fed.js","sourcesContent":["/**\n * Bind event when mounted or activated\n */\nimport { on, off } from '../utils/dom/event';\nexport function BindEventMixin(handler) {\n  function bind() {\n    if (!this.binded) {\n      handler.call(this, on, true);\n      this.binded = true;\n    }\n  }\n\n  function unbind() {\n    if (this.binded) {\n      handler.call(this, off, false);\n      this.binded = false;\n    }\n  }\n\n  return {\n    mounted: bind,\n    activated: bind,\n    deactivated: unbind,\n    beforeDestroy: unbind\n  };\n}","import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace, noop } from '../utils';\nimport { inherit } from '../utils/functional';\nimport { BORDER_BOTTOM } from '../utils/constant'; // Components\n\nimport Icon from '../icon'; // Types\n\nvar _createNamespace = createNamespace('nav-bar'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction NavBar(h, props, slots, ctx) {\n  var _ref;\n\n  function LeftPart() {\n    if (slots.left) {\n      return slots.left();\n    }\n\n    return [props.leftArrow && h(Icon, {\n      \"class\": bem('arrow'),\n      \"attrs\": {\n        \"name\": \"arrow-left\"\n      }\n    }), props.leftText && h(\"span\", {\n      \"class\": bem('text')\n    }, [props.leftText])];\n  }\n\n  function RightPart() {\n    if (slots.right) {\n      return slots.right();\n    }\n\n    if (props.rightText) {\n      return h(\"span\", {\n        \"class\": bem('text')\n      }, [props.rightText]);\n    }\n  }\n\n  return h(\"div\", _mergeJSXProps([{\n    \"style\": {\n      zIndex: props.zIndex\n    },\n    \"class\": [bem({\n      fixed: props.fixed\n    }), (_ref = {}, _ref[BORDER_BOTTOM] = props.border, _ref)]\n  }, inherit(ctx)]), [h(\"div\", {\n    \"class\": bem('left'),\n    \"on\": {\n      \"click\": ctx.listeners['click-left'] || noop\n    }\n  }, [LeftPart()]), h(\"div\", {\n    \"class\": [bem('title'), 'van-ellipsis']\n  }, [slots.title ? slots.title() : props.title]), h(\"div\", {\n    \"class\": bem('right'),\n    \"on\": {\n      \"click\": ctx.listeners['click-right'] || noop\n    }\n  }, [RightPart()])]);\n}\n\nNavBar.props = {\n  title: String,\n  fixed: Boolean,\n  zIndex: [Number, String],\n  leftText: String,\n  rightText: String,\n  leftArrow: Boolean,\n  border: {\n    type: Boolean,\n    default: true\n  }\n};\nexport default createComponent(NavBar);","import '../../style/base.css';\nimport '../../info/index.css';\nimport '../index.css';","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-sticky',[_c('van-nav-bar',{attrs:{\"title\":_vm.title,\"left-text\":_vm.leftText,\"left-arrow\":_vm.showLeftArrow},on:{\"click-left\":_vm.onClickLeft}},[_c('div',{staticClass:\"nav-right\",attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('van-icon',{attrs:{\"name\":\"cart-o\",\"size\":\"25px\"},on:{\"click\":_vm.onClickCart}}),_c('van-icon',{attrs:{\"name\":\"user-o\",\"size\":\"25px\"},on:{\"click\":_vm.onClickUser}})],1)])],1),(_vm.title)?_c('router-view'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <van-sticky>\n      <van-nav-bar :title=\"title\" :left-text=\"leftText\" :left-arrow=\"showLeftArrow\" @click-left=\"onClickLeft\">\n        <div slot=\"right\" class=\"nav-right\">\n          <van-icon name=\"cart-o\" size=\"25px\" @click=\"onClickCart\" />\n          <van-icon name=\"user-o\" size=\"25px\" @click=\"onClickUser\" />\n        </div>\n      </van-nav-bar>\n    </van-sticky>\n    <router-view v-if=\"title\" />\n  </div>\n</template>\n\n<script>\n// import gql from \"graphql-tag\";\nimport { NavBar, Icon, Sticky } from \"vant\";\nexport default {\n  name: \"Layout\",\n  data() {\n    return {\n      showLeftArrow: false,\n      leftText: \"\",\n      title:\"\",\n      mallId:''\n    };\n  },\n  components: {\n    [NavBar.name]: NavBar,\n    [Icon.name]: Icon,\n    [Sticky.name]: Sticky\n  },\n  async created(){\n      this.mallId = this.$route.query.mallId\n      console.log('mallId-----', this.mallId)\n      const query = this.$gql`\n        query layout($mallId: String!) {\n          mall {\n            info(\n              mallId: $mallId\n            ) {\n                description\n                ico\n                logo\n                mallId\n                mallName\n                orgId\n                title\n            }\n          }\n        }\n      `;\n      const result = await this.$apollo.query({\n        query: query,\n        variables: {\n          mallId: this.mallId\n        }\n      });\n      let {\n        data:{\n          mall:{\n            info:{\n              title,\n              orgId,\n              mallId\n            }\n          }\n        }\n      } = result;\n      this.title = title\n      this.$store.commit(\"SET_ORGID\", orgId)\n      this.$store.commit(\"SET_MALLID\", mallId);\n      // if (code == \"00000\") {\n      //   this.$router.push({\n      //     path: \"/index\"\n      //   });\n      //   sessionStorage.setItem(\"token\", token);\n      // } else {\n      //   this.$toast(msg);\n      // }\n  },\n  watch: {\n    \"$route.path\": {\n      handler(now) {\n        //监控路由变换，控制返回按钮的显示\n        if (now == \"/index\") {\n          this.showLeftArrow = false;\n          this.leftText = \"\";\n        } else {\n          this.showLeftArrow = true;\n          this.leftText = \"返回\";\n        }\n      },\n      immediate: true\n    }\n  },\n\n  methods: {\n    onClickLeft() {\n      console.log(\"left----\");\n      this.$router.go(-1);\n    },\n\n    onClickCart() {\n      this.$router.push({\n        path: \"/cart\",\n        query:{mallId:this.mallId}\n      });\n    },\n\n    onClickUser() {\n      this.$router.push({\n        path: \"/user\",\n        query:{mallId:this.mallId}\n      });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Layout.vue?vue&type=template&id=2eed9136&\"\nimport script from \"./Layout.vue?vue&type=script&lang=js&\"\nexport * from \"./Layout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","function isWindow(val) {\n  return val === window;\n} // get nearest scroll element\n// http://w3help.org/zh-cn/causes/SD9013\n// http://stackoverflow.com/questions/17016740/onscroll-function-is-not-working-for-chrome\n\n\nvar overflowScrollReg = /scroll|auto/i;\nexport function getScroller(el, root) {\n  if (root === void 0) {\n    root = window;\n  }\n\n  var node = el;\n\n  while (node && node.tagName !== 'HTML' && node.nodeType === 1 && node !== root) {\n    var _window$getComputedSt = window.getComputedStyle(node),\n        overflowY = _window$getComputedSt.overflowY;\n\n    if (overflowScrollReg.test(overflowY)) {\n      if (node.tagName !== 'BODY') {\n        return node;\n      } // see: https://github.com/youzan/vant/issues/3823\n\n\n      var _window$getComputedSt2 = window.getComputedStyle(node.parentNode),\n          htmlOverflowY = _window$getComputedSt2.overflowY;\n\n      if (overflowScrollReg.test(htmlOverflowY)) {\n        return node;\n      }\n    }\n\n    node = node.parentNode;\n  }\n\n  return root;\n}\nexport function getScrollTop(el) {\n  return 'scrollTop' in el ? el.scrollTop : el.pageYOffset;\n}\nexport function setScrollTop(el, value) {\n  if ('scrollTop' in el) {\n    el.scrollTop = value;\n  } else {\n    el.scrollTo(el.scrollX, value);\n  }\n}\nexport function getRootScrollTop() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n}\nexport function setRootScrollTop(value) {\n  setScrollTop(window, value);\n  setScrollTop(document.body, value);\n} // get distance from element top to page top\n\nexport function getElementTop(el) {\n  if (isWindow(el)) {\n    return 0;\n  }\n\n  return el.getBoundingClientRect().top + getRootScrollTop();\n}\nexport function getVisibleHeight(el) {\n  if (isWindow(el)) {\n    return el.innerHeight;\n  }\n\n  return el.getBoundingClientRect().height;\n}\nexport function getVisibleTop(el) {\n  if (isWindow(el)) {\n    return 0;\n  }\n\n  return el.getBoundingClientRect().top;\n}","import '../../style/base.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../index.css';","import { createNamespace, isDef } from '../utils';\nimport { BindEventMixin } from '../mixins/bind-event';\nimport { getScrollTop, getElementTop, getScroller } from '../utils/dom/scroll';\n\nvar _createNamespace = createNamespace('sticky'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [BindEventMixin(function (bind) {\n    if (!this.scroller) {\n      this.scroller = getScroller(this.$el);\n    }\n\n    bind(this.scroller, 'scroll', this.onScroll, true);\n    this.onScroll();\n  })],\n  props: {\n    zIndex: [Number, String],\n    container: null,\n    offsetTop: {\n      type: [Number, String],\n      default: 0\n    }\n  },\n  data: function data() {\n    return {\n      fixed: false,\n      height: 0,\n      transform: 0\n    };\n  },\n  computed: {\n    style: function style() {\n      if (!this.fixed) {\n        return;\n      }\n\n      var style = {};\n\n      if (isDef(this.zIndex)) {\n        style.zIndex = this.zIndex;\n      }\n\n      if (this.offsetTop && this.fixed) {\n        style.top = this.offsetTop + \"px\";\n      }\n\n      if (this.transform) {\n        style.transform = \"translate3d(0, \" + this.transform + \"px, 0)\";\n      }\n\n      return style;\n    }\n  },\n  methods: {\n    onScroll: function onScroll() {\n      var _this = this;\n\n      this.height = this.$el.offsetHeight;\n      var container = this.container;\n      var offsetTop = +this.offsetTop;\n      var scrollTop = getScrollTop(window);\n      var topToPageTop = getElementTop(this.$el);\n\n      var emitScrollEvent = function emitScrollEvent() {\n        _this.$emit('scroll', {\n          scrollTop: scrollTop,\n          isFixed: _this.fixed\n        });\n      }; // The sticky component should be kept inside the container element\n\n\n      if (container) {\n        var bottomToPageTop = topToPageTop + container.offsetHeight;\n\n        if (scrollTop + offsetTop + this.height > bottomToPageTop) {\n          var distanceToBottom = this.height + scrollTop - bottomToPageTop;\n\n          if (distanceToBottom < this.height) {\n            this.fixed = true;\n            this.transform = -(distanceToBottom + offsetTop);\n          } else {\n            this.fixed = false;\n          }\n\n          emitScrollEvent();\n          return;\n        }\n      }\n\n      if (scrollTop + offsetTop > topToPageTop) {\n        this.fixed = true;\n        this.transform = 0;\n      } else {\n        this.fixed = false;\n      }\n\n      emitScrollEvent();\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var fixed = this.fixed;\n    var style = {\n      height: fixed ? this.height + \"px\" : null\n    };\n    return h(\"div\", {\n      \"style\": style\n    }, [h(\"div\", {\n      \"class\": bem({\n        fixed: fixed\n      }),\n      \"style\": this.style\n    }, [this.slots()])]);\n  }\n});","import { isServer } from '..';\n// eslint-disable-next-line import/no-mutable-exports\nexport var supportsPassive = false;\n\nif (!isServer) {\n  try {\n    var opts = {};\n    Object.defineProperty(opts, 'passive', {\n      // eslint-disable-next-line getter-return\n      get: function get() {\n        /* istanbul ignore next */\n        supportsPassive = true;\n      }\n    });\n    window.addEventListener('test-passive', null, opts); // eslint-disable-next-line no-empty\n  } catch (e) {}\n}\n\nexport function on(target, event, handler, passive) {\n  if (passive === void 0) {\n    passive = false;\n  }\n\n  if (!isServer) {\n    target.addEventListener(event, handler, supportsPassive ? {\n      capture: false,\n      passive: passive\n    } : false);\n  }\n}\nexport function off(target, event, handler) {\n  if (!isServer) {\n    target.removeEventListener(event, handler);\n  }\n}\nexport function stopPropagation(event) {\n  event.stopPropagation();\n}\nexport function preventDefault(event, isStopPropagation) {\n  /* istanbul ignore else */\n  if (typeof event.cancelable !== 'boolean' || event.cancelable) {\n    event.preventDefault();\n  }\n\n  if (isStopPropagation) {\n    stopPropagation(event);\n  }\n}"],"sourceRoot":""}