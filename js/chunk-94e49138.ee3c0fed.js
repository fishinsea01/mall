(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-94e49138"],{"0661":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("b101");function r(t){function e(){this.binded||(t.call(this,i["b"],!0),this.binded=!0)}function n(){this.binded&&(t.call(this,i["a"],!1),this.binded=!1)}return{mounted:e,activated:e,deactivated:n,beforeDestroy:n}}},"08ac":function(t,e,n){"use strict";var i=n("23c4"),r=n.n(i),o=n("af43"),s=n("de74"),a=n("c041"),l=n("c702"),c=n("c795"),f=Object(o["a"])("nav-bar"),u=f[0],d=f[1];function h(t,e,n,i){var o;function f(){return n.left?n.left():[e.leftArrow&&t(c["a"],{class:d("arrow"),attrs:{name:"arrow-left"}}),e.leftText&&t("span",{class:d("text")},[e.leftText])]}function u(){return n.right?n.right():e.rightText?t("span",{class:d("text")},[e.rightText]):void 0}return t("div",r()([{style:{zIndex:e.zIndex},class:[d({fixed:e.fixed}),(o={},o[l["b"]]=e.border,o)]},Object(a["b"])(i)]),[t("div",{class:d("left"),on:{click:i.listeners["click-left"]||s["f"]}},[f()]),t("div",{class:[d("title"),"van-ellipsis"]},[n.title?n.title():e.title]),t("div",{class:d("right"),on:{click:i.listeners["click-right"]||s["f"]}},[u()])])}h.props={title:String,fixed:Boolean,zIndex:[Number,String],leftText:String,rightText:String,leftArrow:Boolean,border:{type:Boolean,default:!0}},e["a"]=u(h)},"0fbe":function(t,e,n){"use strict";n("196d"),n("c2e8"),n("bed5")},"2aff":function(t,e,n){},"3c19":function(t,e,n){},"7f63":function(t,e,n){"use strict";n.r(e);var i,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-sticky",[n("van-nav-bar",{attrs:{title:t.title,"left-text":t.leftText,"left-arrow":t.showLeftArrow},on:{"click-left":t.onClickLeft}},[n("div",{staticClass:"nav-right",attrs:{slot:"right"},slot:"right"},[n("van-icon",{attrs:{name:"cart-o",size:"25px"},on:{click:t.onClickCart}}),n("van-icon",{attrs:{name:"user-o",size:"25px"},on:{click:t.onClickUser}})],1)])],1),t.title?n("router-view"):t._e()],1)},o=[],s=n("46b4"),a=n.n(s),l=n("0d05"),c=n.n(l),f=n("34ef"),u=n.n(f),d=n("0a8a"),h=n.n(d),p=(n("196d"),n("3c19"),n("ab5a")),m=(n("0fbe"),n("c795")),v=(n("9f2c"),n("08ac"));function g(){var t=c()(["\n        query layout($mallId: String!) {\n          mall {\n            info(\n              mallId: $mallId\n            ) {\n                description\n                ico\n                logo\n                mallId\n                mallName\n                orgId\n                title\n            }\n          }\n        }\n      "]);return g=function(){return t},t}var b={name:"Layout",data:function(){return{showLeftArrow:!1,leftText:"",title:"",mallId:""}},components:(i={},h()(i,v["a"].name,v["a"]),h()(i,m["a"].name,m["a"]),h()(i,p["a"].name,p["a"]),i),created:function(){var t=this;return u()(a.a.mark((function e(){var n,i,r,o,s,l;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.mallId=t.$route.query.mallId,n=t.$gql(g()),e.next=4,t.$apollo.query({query:n,variables:{mallId:t.mallId}});case 4:i=e.sent,r=i.data.mall.info,o=r.title,s=r.orgId,l=r.mallId,t.title=o,t.$store.commit("SET_ORGID",s),t.$store.commit("SET_MALLID",l);case 9:case"end":return e.stop()}}),e)})))()},watch:{"$route.path":{handler:function(t){"/index"==t?(this.showLeftArrow=!1,this.leftText=""):(this.showLeftArrow=!0,this.leftText="返回")},immediate:!0}},methods:{onClickLeft:function(){this.$router.go(-1)},onClickCart:function(){this.$router.push({path:"/cart",query:{mallId:this.mallId}})},onClickUser:function(){this.$router.push({path:"/user",query:{mallId:this.mallId}})}}},x=b,w=n("5511"),y=Object(w["a"])(x,r,o,!1,null,null,null);e["default"]=y.exports},8683:function(t,e,n){"use strict";function i(t){return t===window}n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"g",(function(){return c})),n.d(e,"a",(function(){return f})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return d}));var r=/scroll|auto/i;function o(t,e){void 0===e&&(e=window);var n=t;while(n&&"HTML"!==n.tagName&&1===n.nodeType&&n!==e){var i=window.getComputedStyle(n),o=i.overflowY;if(r.test(o)){if("BODY"!==n.tagName)return n;var s=window.getComputedStyle(n.parentNode),a=s.overflowY;if(r.test(a))return n}n=n.parentNode}return e}function s(t){return"scrollTop"in t?t.scrollTop:t.pageYOffset}function a(t,e){"scrollTop"in t?t.scrollTop=e:t.scrollTo(t.scrollX,e)}function l(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function c(t){a(window,t),a(document.body,t)}function f(t){return i(t)?0:t.getBoundingClientRect().top+l()}function u(t){return i(t)?t.innerHeight:t.getBoundingClientRect().height}function d(t){return i(t)?0:t.getBoundingClientRect().top}},"9f2c":function(t,e,n){"use strict";n("196d"),n("c2e8"),n("bed5"),n("2aff")},ab5a:function(t,e,n){"use strict";var i=n("af43"),r=n("de74"),o=n("0661"),s=n("8683"),a=Object(i["a"])("sticky"),l=a[0],c=a[1];e["a"]=l({mixins:[Object(o["a"])((function(t){this.scroller||(this.scroller=Object(s["d"])(this.$el)),t(this.scroller,"scroll",this.onScroll,!0),this.onScroll()}))],props:{zIndex:[Number,String],container:null,offsetTop:{type:[Number,String],default:0}},data:function(){return{fixed:!1,height:0,transform:0}},computed:{style:function(){if(this.fixed){var t={};return Object(r["b"])(this.zIndex)&&(t.zIndex=this.zIndex),this.offsetTop&&this.fixed&&(t.top=this.offsetTop+"px"),this.transform&&(t.transform="translate3d(0, "+this.transform+"px, 0)"),t}}},methods:{onScroll:function(){var t=this;this.height=this.$el.offsetHeight;var e=this.container,n=+this.offsetTop,i=Object(s["c"])(window),r=Object(s["a"])(this.$el),o=function(){t.$emit("scroll",{scrollTop:i,isFixed:t.fixed})};if(e){var a=r+e.offsetHeight;if(i+n+this.height>a){var l=this.height+i-a;return l<this.height?(this.fixed=!0,this.transform=-(l+n)):this.fixed=!1,void o()}}i+n>r?(this.fixed=!0,this.transform=0):this.fixed=!1,o()}},render:function(){var t=arguments[0],e=this.fixed,n={height:e?this.height+"px":null};return t("div",{style:n},[t("div",{class:c({fixed:e}),style:this.style},[this.slots()])])}})},b101:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return c}));var i=n("de74"),r=!1;if(!i["e"])try{var o={};Object.defineProperty(o,"passive",{get:function(){r=!0}}),window.addEventListener("test-passive",null,o)}catch(f){}function s(t,e,n,o){void 0===o&&(o=!1),i["e"]||t.addEventListener(e,n,!!r&&{capture:!1,passive:o})}function a(t,e,n){i["e"]||t.removeEventListener(e,n)}function l(t){t.stopPropagation()}function c(t,e){("boolean"!==typeof t.cancelable||t.cancelable)&&t.preventDefault(),e&&l(t)}}}]);
//# sourceMappingURL=chunk-94e49138.ee3c0fed.js.map